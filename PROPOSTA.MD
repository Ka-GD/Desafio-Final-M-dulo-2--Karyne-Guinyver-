# ğŸ“Œ Plano de SeguranÃ§a - LojaZeta

Este documento descreve o plano de seguranÃ§a da LojaZeta, visando reduzir riscos crÃ­ticos, implementar defesa em camadas, centralizar monitoramento e estruturar resposta a incidentes seguindo o NIST.

---

## 1. SumÃ¡rio Executivo
A LojaZeta, e-commerce em crescimento, enfrenta riscos como SQLi, XSS e brute-force em `/login`.  
O ambiente carece de SIEM consolidado, centralizaÃ§Ã£o de logs e testes de backup.  
Equipe enxuta (2 devs + 1 ops) exige estratÃ©gia simples, escalÃ¡vel e de baixo custo.  
**Objetivo:** reduzir riscos crÃ­ticos com defesa em camadas, monitoramento centralizado e IR baseado no NIST.

---

## 2. Escopo e Metodologia
**Escopo:** seguranÃ§a web/app, identidade, dados crÃ­ticos, monitoramento centralizado, runbooks bÃ¡sicos.  
**Fora do escopo:** SOC 24/7, Red Team avanÃ§ado, SIEM corporativo completo.  
**Metodologia:** anÃ¡lise do stack (Nginx, Node.js, PostgreSQL), boas prÃ¡ticas Blue Team, seguranÃ§a em camadas e ciclo NIST IR.  
**AssunÃ§Ãµes:** IaaS flexÃ­vel, equipe com conhecimento Linux bÃ¡sico.

---

## 3. Arquitetura de Defesa

A arquitetura de defesa da LojaZeta integra **PerÃ­metro, Rede, AplicaÃ§Ã£o e Monitoramento** em um fluxo visual limpo.

```mermaid
flowchart TD
    Internet([ğŸŒ Internet])
    WAF[ğŸ”’ WAF/CRS<br/>ProteÃ§Ã£o PerÃ­metro]
    LB[âš™ï¸ Load Balancer<br/>DistribuiÃ§Ã£o de trÃ¡fego]
    APP[ğŸ’» App Node.js<br/>LÃ³gica da AplicaÃ§Ã£o]
    DB[(ğŸ—„ï¸ PostgreSQL<br/>Banco de Dados)]
    LOGS[ğŸ“Š Logs Centralizados<br/>Loki + Grafana]
    IAM[ğŸ›¡ï¸ GestÃ£o de Identidade<br/>Vault / Secret Manager]

    Internet --> WAF
    WAF --> LB
    LB --> APP
    APP --> DB
    APP --> LOGS
    DB --> LOGS
    IAM --> APP

    classDef perimeter fill:#1f2b45,stroke:#0a1a2b,stroke-width:2px,color:#ffffff;
    classDef core fill:#3b4b63,stroke:#1f2b45,stroke-width:2px,color:#ffffff;
    classDef monitoring fill:#6c7a95,stroke:#3b4b63,stroke-width:2px,color:#ffffff;

    class WAF,LB,IAM perimeter;
    class APP,DB core;
    class LOGS monitoring;
