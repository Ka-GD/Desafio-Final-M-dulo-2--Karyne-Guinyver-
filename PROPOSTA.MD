# üìå Plano de Seguran√ßa - LojaZeta

Este documento descreve o plano de seguran√ßa da LojaZeta, visando reduzir riscos cr√≠ticos, implementar defesa em camadas, centralizar monitoramento e estruturar resposta a incidentes seguindo o NIST.

---

## 1. Sum√°rio Executivo
A LojaZeta, e-commerce em crescimento, enfrenta riscos como SQLi, XSS e brute-force em `/login`.  
O ambiente carece de SIEM consolidado, centraliza√ß√£o de logs e testes de backup.  
Equipe enxuta (2 devs + 1 ops) exige estrat√©gia simples, escal√°vel e de baixo custo.  
**Objetivo:** reduzir riscos cr√≠ticos com defesa em camadas, monitoramento centralizado e IR baseado no NIST.

---

## 2. Escopo e Metodologia
**Escopo:** seguran√ßa web/app, identidade, dados cr√≠ticos, monitoramento centralizado, runbooks b√°sicos.  
**Fora do escopo:** SOC 24/7, Red Team avan√ßado, SIEM corporativo completo.  
**Metodologia:** an√°lise do stack (Nginx, Node.js, PostgreSQL), boas pr√°ticas Blue Team, seguran√ßa em camadas e ciclo NIST IR.  
**Assun√ß√µes:** IaaS flex√≠vel, equipe com conhecimento Linux b√°sico.

---

## 3. Arquitetura de Defesa

A arquitetura de defesa segue tr√™s pilares: **Per√≠metro, Rede e Aplica√ß√£o**, integrados a monitoramento cont√≠nuo e gest√£o de identidade.

```mermaid
flowchart TD
    Internet([Internet])
    WAF[WAF/CRS<br/>Prote√ß√£o Per√≠metro]
    LB[Load Balancer<br/>Distribui√ß√£o de tr√°fego]
    APP[App Node.js<br/>L√≥gica da Aplica√ß√£o]
    DB[(PostgreSQL<br/>Banco de Dados)]
    LOGS[Logs Centralizados<br/>Loki + Grafana]
    IAM[Gest√£o de Identidade<br/>Vault / Secret Manager]

    Internet --> WAF
    WAF --> LB
    LB --> APP
    APP --> DB
    APP --> LOGS
    DB --> LOGS
    IAM --> APP

    classDef perimeter fill:#f9f,stroke:#333,stroke-width:2px;
    classDef core fill:#9f9,stroke:#333,stroke-width:2px;
    classDef monitoring fill:#ff9,stroke:#333,stroke-width:2px;

    class WAF perimeter;
    class LB perimeter;
    class APP core;
    class DB core;
    class LOGS monitoring;
    class IAM perimeter;
